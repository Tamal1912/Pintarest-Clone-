<% include ./partials/header.ejs %>

<div class="profile w-full min-h-screen bg-zinc-800 text-white pt-1">
    <form id="uploadProfile" hidden action="/uploadProfileImage" method="post" enctype="multipart/form-data">
        <input type="file" name="profileImage" id="">
    </form>
  <div class="profdets flex flex-col items-center justify-center mt-20">
    <div class="relative">
        <span class="w-8 h-8 absolute bottom-0 right-0 rounded-full flex items-center justify-center  bg-zinc-200">
            <i id="profileIcon" class=" cursor-pointer text-zinc-800 ri-pencil-line"></i>
        </span>
      <div class="w-32 h-32 bg-zinc-200 rounded-full overflow-hidden">
        <img
          class="h-full w-full object-cover"
          src="/images/uploads/<%=user.profileImage%>"
          alt=""
        />
      </div>
    </div>

    <h1 class="text-2xl font-semibold mt-5">Tamal Sur</h1>
    <h3 class="text-md">@username</h3>
    <a
      href="/edit"
      class="py-3 px-5 mt-5 bg-red-700 rounded-full font-semibold text-xs"
      >Edit Profile</a
    >
    <a href="/add"
      class="px-3 py-3 rounded-lg bg-zinc-300 font-medium mt-5 text-red-700"
    >
      Add New Post
  </a>
  </div>

  <div class="cards flex flex-wrap gap-10 px-10 mt-10">
    <div class="card">
      <div class="w-48 h-40 bg-white rounded-lg overflow-hidden">
        <img
          class="h-full w-full object-cover"
          src="/public/images/uploads/<%=user.posts[0].image%>"
          alt=""
        />
      </div>
      <h3 class="text-lg font-semibold mt-3">All Pins</h3>
      <h5 class="text-sm font-medium text opacity-60">20 Pins</h5>
    </div>
  </div>
</div>


<script>
    document.querySelector("#profileIcon").addEventListener("click",(e)=>{

        document.querySelector("#uploadProfile input").click();
    });

    document.querySelector("#uploadProfile input").addEventListener("change",()=>{
        document.querySelector("#uploadProfile").submit();
    })
</script>
    <% include ./partials/footer.ejs %>